% neurips_2024.sty
% NeurIPS 2024 style file
% Based on official NeurIPS template

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{neurips_2024}[2024/01/01 NeurIPS 2024 submission/camera-ready style file]

% Options
\newif\if@neuripsfinal\@neuripsfinalfalse
\DeclareOption{final}{\@neuripsfinaltrue}
\newif\if@preprint\@preprintfalse
\DeclareOption{preprint}{\@preprinttrue}
\newif\if@nonatbib\@nonatbibfalse
\DeclareOption{nonatbib}{\@nonatbibtrue}

\ProcessOptions\relax

% Required packages
\RequirePackage{geometry}
\RequirePackage{fancyhdr}
\RequirePackage{titlesec}

% Page layout
\geometry{
  paperwidth=8.5in,
  paperheight=11in,
  left=1in,
  right=1in,
  top=1in,
  bottom=1in,
  footskip=0.5in
}

% No page numbers in review mode, page numbers in final
\if@neuripsfinal
  \pagestyle{plain}
\else
  \pagestyle{empty}
\fi

% Title formatting
\def\@maketitle{%
  \newpage
  \null
  \vskip 2em%
  \begin{center}%
  \let \footnote \thanks
    {\LARGE \@title \par}%
    \vskip 1.5em%
    {\large
      \lineskip .5em%
      \begin{tabular}[t]{c}%
        \if@neuripsfinal
          \@author
        \else
          Anonymous Author(s)\\
          Affiliation\\
          Address\\
          \texttt{email}
        \fi
      \end{tabular}\par}%
  \end{center}%
  \par
  \vskip 1.5em}

% Section formatting
\titleformat{\section}
  {\normalfont\large\bfseries}
  {\thesection}
  {1em}
  {}

\titleformat{\subsection}
  {\normalfont\normalsize\bfseries}
  {\thesubsection}
  {1em}
  {}

\titleformat{\subsubsection}
  {\normalfont\normalsize\bfseries}
  {\thesubsubsection}
  {1em}
  {}

% Abstract
\renewenvironment{abstract}%
  {\centerline{\large\bfseries Abstract}%
   \vspace{0.5ex}%
   \begin{quote}}%
  {\par\end{quote}\vskip 1ex}

% Footnote without marker for thanks
\long\def\@makefntext#1{%
  \parindent 1em\noindent
  \hb@xt@1.8em{\hss\@makefnmark}#1}

% NatBib
\if@nonatbib\else
  \RequirePackage{natbib}
  \setcitestyle{authoryear,round,semicolon,aysep={,},yysep={,}}
\fi

% Line numbers for review
\if@neuripsfinal\else
  \if@preprint\else
    % Can add lineno package for line numbers if needed
  \fi
\fi

\endinput
